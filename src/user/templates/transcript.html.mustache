<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ channelName }} - Ticket Transcript</title>
  <style>
    body {
      font-family: Arial, sans-serif;
    }
    .message {
      margin-bottom: 1.2em;
    }
    .message .timestamp {
      color: grey;
    }
  </style>
</head>
<body>
  <h1>{{ channelName }} Ticket Transcript</h1>
  <p><strong>ID:</strong> {{ ticket.id }} ({{ guildName }})</p>
  <p><strong>Number:</strong> {{ ticket.category.name }} #{{ ticket.number }}</p>
  <p><strong>Topic:</strong> {{ #ticket.topic }}{{ . }}{{ /ticket.topic }}{{ ^ticket.topic }}(no topic){{ /ticket.topic }}</p>
  <p><strong>Created on:</strong> {{ createdAtFull }}</p>
  <p><strong>Created by:</strong> "{{ ticket.createdBy.displayName }}" @{{ ticket.createdBy.username }}#{{ ticket.createdBy.discriminator }}</p>
  <p><strong>Closed on:</strong> {{ closedAtFull }}</p>
  <p><strong>Closed by:</strong> "{{ ticket.closedBy.displayName }}" @{{ ticket.closedBy.username }}#{{ ticket.closedBy.discriminator }}</p>
  <p><strong>Closed because:</strong> {{ #ticket.closedReason }}{{ ticket.closedReason }}{{ /ticket.closedReason }}{{ ^ticket.closedReason }}(no reason){{ /ticket.closedReason }}</p>
  <p><strong>Claimed by:</strong> "{{ ticket.claimedBy.displayName }}" @{{ ticket.claimedBy.username }}#{{ ticket.claimedBy.discriminator }}</p>

  {{ #ticket.feedback }}
  <p><strong>Feedback:</strong></p>
  <ul>
    <li><strong>Rating:</strong> {{ rating }}/5</li>
    <li><strong>Comment:</strong> {{ comment }}</li>
  </ul>
  {{ /ticket.feedback }}

  <h2>Participants</h2>
  <ul>
    {{ #ticket.archivedUsers }}
    <li>"{{ displayName }}" @{{ username }}#{{ discriminator }} ({{ userId }})</li>
    {{ /ticket.archivedUsers }}
  </ul>

  <h2>Pinned messages</h2>
  <p>{{ pinned }}</p>

  <h2>Messages</h2>
  {{ #ticket.archivedMessages }}
  <div class="message">
    <span class="timestamp">{{ createdAtTimestamp }}</span> <strong>{{ author.displayName }}:</strong> {{ text }}
  </div>
  {{ /ticket.archivedMessages }}
</body>
</html>
